{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport \"./matches.css\";\nimport { ListGroup, Container, Figure, Row, Col } from \"react-bootstrap\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport placeholder from \"../assets/placeholder.png\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar DataTable = function DataTable(props) {\n  return _jsx(\"tr\", {\n    children: _jsx(\"td\", {\n      children: props.obj._id\n    })\n  });\n};\n\nvar MatchesList = function MatchesList(props) {\n  return _jsx(ListGroup.Item, {\n    className: \"matches-item\",\n    variant: \"outline-primary\",\n    children: _jsxs(Row, {\n      children: [_jsx(Col, {\n        children: _jsx(Figure.Image, {\n          className: \"matches-image p-2\",\n          src: \"\" + props.obj.image\n        })\n      }), _jsxs(Col, {\n        xs: 9,\n        children: [_jsx(\"span\", {\n          class: \"matches-name\",\n          children: props.obj.name\n        }), _jsx(\"br\", {}), _jsx(\"span\", {\n          class: \"matches-email\",\n          children: props.obj.email\n        })]\n      })]\n    })\n  });\n};\n\nvar EmptyMatchesList = function EmptyMatchesList(props) {\n  return _jsx(ListGroup.Item, {\n    className: \"matches-item\",\n    variant: \"outline-primary\",\n    children: _jsx(\"h2\", {\n      class: \"m-3\",\n      children: \"No matches (yet!)\"\n    })\n  });\n};\n\nvar Matches = function (_Component) {\n  _inherits(Matches, _Component);\n\n  var _super = _createSuper(Matches);\n\n  function Matches(props) {\n    var _this;\n\n    _classCallCheck(this, Matches);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      usersCollection: []\n    };\n    return _this;\n  }\n\n  _createClass(Matches, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var getMatches = axios.get('http://localhost:5000/matches');\n      var getUsers = axios.get('http://localhost:5000/users');\n      var loginEmail = \"jkl@email.com\";\n      axios.all([getMatches, getUsers]).then(axios.spread(function () {\n        for (var _len = arguments.length, responses = new Array(_len), _key = 0; _key < _len; _key++) {\n          responses[_key] = arguments[_key];\n        }\n\n        var allMatches = responses[0].data;\n        var allUsers = responses[1].data;\n        var matchEmails = [];\n\n        for (var i in allMatches) {\n          if (allMatches[i][\"from_email\"] == loginEmail) {\n            var reciprocate = allMatches[i][\"to_email\"];\n            var isreciprocate = false;\n\n            for (var j in allMatches) {\n              if (allMatches[j][\"from_email\"] == reciprocate && allMatches[j][\"to_email\"] == allMatches[i][\"from_email\"]) {\n                isreciprocate = true;\n              }\n            }\n\n            if (isreciprocate) {\n              matchEmails.push(reciprocate);\n            }\n          }\n        }\n\n        var matchInfo = [];\n\n        for (var _i in matchEmails) {\n          for (var _j in allUsers) {\n            if (matchEmails[_i] == allUsers[_j][\"email\"]) {\n              var image = placeholder;\n              matchInfo.push({\n                \"name\": allUsers[_j][\"name\"],\n                \"email\": allUsers[_j][\"email\"],\n                \"image\": allUsers[_j][\"pictures\"]\n              });\n              break;\n            }\n          }\n        }\n\n        _this2.setState({\n          usersCollection: matchInfo\n        });\n\n        console.log(_this2.state);\n      })).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"matchesList\",\n    value: function matchesList() {\n      if (this.state.usersCollection.length != 0) {\n        return this.state.usersCollection.map(function (data, i) {\n          return _jsx(MatchesList, {\n            obj: data\n          }, i);\n        });\n      } else {\n        console.log(this.state.usersCollection.length);\n        return _jsx(EmptyMatchesList, {});\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var matches = [{\n        src: placeholder,\n        name: \"Jeff\",\n        email: \"jeff@email.com\"\n      }, {\n        src: placeholder,\n        name: \"John\",\n        email: \"john@email.com\"\n      }, {\n        src: placeholder,\n        name: \"Joe\",\n        email: \"joe@email.com\"\n      }];\n      return _jsxs(\"main\", {\n        children: [_jsx(\"head\", {}), _jsxs(\"body\", {\n          children: [_jsx(\"h1\", {\n            class: \"m-3\",\n            children: \"Matches\"\n          }), _jsx(Container, {\n            children: _jsx(ListGroup, {\n              class: \"m-4\",\n              children: this.matchesList()\n            })\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return Matches;\n}(Component);\n\nexport { Matches as default };","map":{"version":3,"sources":["C:/Users/Sage/Documents/GitHub/CampusDate/mern/campusdate/src/components/matches/matches.component.js"],"names":["ListGroup","Container","Figure","Row","Col","React","Component","useEffect","useState","placeholder","axios","DataTable","props","obj","_id","MatchesList","image","name","email","EmptyMatchesList","Matches","state","usersCollection","getMatches","get","getUsers","loginEmail","all","then","spread","responses","allMatches","data","allUsers","matchEmails","i","reciprocate","isreciprocate","j","push","matchInfo","setState","console","log","catch","error","length","map","matches","src","matchesList"],"mappings":"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","sourcesContent":["\r\nimport './matches.css';\r\nimport { ListGroup, Container, Figure, Row, Col } from \"react-bootstrap\";\r\nimport React, { Component, useEffect, useState } from \"react\";\r\nimport placeholder from \"../assets/placeholder.png\"\r\nimport axios from 'axios';\r\n\r\n\r\nconst DataTable = props => (\r\n            <tr>\r\n                <td>\r\n                    {props.obj._id}\r\n                </td>\r\n            </tr>\r\n)\r\n\r\nconst MatchesList = props => (\r\n  <ListGroup.Item className=\"matches-item\" variant=\"outline-primary\">\r\n     <Row>\r\n       <Col>\r\n         <Figure.Image className=\"matches-image p-2\" src={`${props.obj.image}`}/>\r\n       </Col>\r\n       <Col xs={9}>\r\n         <span class=\"matches-name\">{props.obj.name}</span>\r\n         <br/>\r\n         <span class=\"matches-email\">{props.obj.email}</span>\r\n       </Col>\r\n     </Row>\r\n  </ListGroup.Item>\r\n)\r\n\r\nconst EmptyMatchesList = props => (\r\n  <ListGroup.Item className=\"matches-item\" variant=\"outline-primary\"><h2 class=\"m-3\">No matches (yet!)</h2></ListGroup.Item>\r\n\r\n\r\n)\r\n\r\nexport default class Matches extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = { usersCollection: [] };\r\n  }\r\n  componentDidMount() {\r\n    const getMatches = axios.get('http://localhost:5000/matches')\r\n    const getUsers = axios.get('http://localhost:5000/users')\r\n    const loginEmail = \"jkl@email.com\"\r\n          axios.all([getMatches, getUsers]).then(axios.spread((...responses) => {\r\n            const allMatches = responses[0].data;\r\n            const allUsers = responses[1].data;\r\n            // get all emails of valid matches\r\n            var matchEmails = [];\r\n            for(let i in allMatches){\r\n              if(allMatches[i][\"from_email\"] == loginEmail){\r\n                const reciprocate = allMatches[i][\"to_email\"];\r\n                var isreciprocate = false;\r\n                for(let j in allMatches){\r\n                  if(allMatches[j][\"from_email\"] == reciprocate && allMatches[j][\"to_email\"] == allMatches[i][\"from_email\"]){\r\n                    isreciprocate = true;\r\n                  }\r\n                }\r\n                if(isreciprocate){\r\n                  matchEmails.push(reciprocate);\r\n                }\r\n              }\r\n            }\r\n            // get contact info from emails\r\n            var matchInfo = []\r\n            for(let i in matchEmails){\r\n              for(let j in allUsers){\r\n                if(matchEmails[i] == allUsers[j][\"email\"]){\r\n                  const image = placeholder\r\n                  matchInfo.push({\"name\" : allUsers[j][\"name\"], \"email\": allUsers[j][\"email\"], \"image\": allUsers[j][\"pictures\"]});\r\n                  break;\r\n                }\r\n              }\r\n            }            \r\n            this.setState({ usersCollection: matchInfo });\r\n            console.log(this.state)\r\n          }))\r\n          .catch(function (error) {\r\n              console.log(error);\r\n          })\r\n  }\r\n  matchesList(){\r\n    // console.log(this.state.usersCollection.length);\r\n      if(this.state.usersCollection.length != 0){\r\n        return this.state.usersCollection.map((data, i) => {\r\n            return <MatchesList obj={data} key={i} />;\r\n        });\r\n      }else{\r\n        console.log(this.state.usersCollection.length);\r\n        return <EmptyMatchesList />\r\n      }   \r\n  }\r\n\r\n  render() {\r\n  // const [checked, setChecked] = useState(false);\r\n  // const [radioValue, setRadioValue] = useState('1');\r\n  const matches = [ {src: placeholder, name: \"Jeff\", email: \"jeff@email.com\"},\r\n  {src: placeholder, name: \"John\", email: \"john@email.com\"},\r\n  {src: placeholder, name: \"Joe\", email: \"joe@email.com\"}]\r\n    return (\r\n     <main>\r\n     <head>\r\n     </head>\r\n     <body>\r\n         <h1 class=\"m-3\">Matches</h1>\r\n         <Container>\r\n         <ListGroup class=\"m-4\">\r\n           {this.matchesList()}\r\n         </ListGroup>\r\n         </Container>\r\n\r\n\r\n      </body>\r\n      </main>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}